<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lab 5 - Bài 3</title>
</head>
<body>
    <script>
        
        const tasks = new Promise((resolve, reject) => {
            const fullName = prompt("Họ và tên: ");
            const subjectName = prompt("Tên môn học: ");
            const lab1 = prompt("Lab 1: ");
            resolve({fullName, subjectName, lab1});
        })
        
        tasks
            .then((data) => {
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        const lab2 = prompt("Lab 2");
                        resolve({...data, lab2})
                    }, 3000)
                })
            })
            .then((data) => {
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        const lab3 = prompt("Lab 3");
                        resolve({...data, lab3})
                    }, 4000)
                })
            })
            .then((data) => {
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        const final = prompt("Final");
                        resolve({...data, final})
                    }, 3000)
                })
            })
            .then((data) => {
                const {fullName, subjetcName, lab1, lab2, lab3, final} = data;
                const average = lab1 * 0.1 + lab2 * 0.2 + lab3 * 0.3 + final * 0.4;
                let academic = undefined;
                if(average < 5) {
                    academic = "yếu";
                } 
                if(average >=5 && average < 7) {
                    academic = "trung bình khá";
                }
                if(average >= 7 && average < 8.5) {
                    academic = "khá";
                }
                if(average >= 8.5 && average < 10) {
                    academic = "giỏi";
                }

                console.log({
                    ...data,
                    average,
                    academic
                })
            })
    </script>
</body>
</html>